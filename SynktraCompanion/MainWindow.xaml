<Window x:Class="SynktraCompanion.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Title="Synktra Companion" Height="720" Width="1100"
        MinHeight="600" MinWidth="900" WindowStartupLocation="CenterScreen"
        Background="{StaticResource BgBrush}" ResizeMode="CanResizeWithGrip"
      WindowStyle="None" AllowsTransparency="False"
   Icon="app.ico">
    <WindowChrome.WindowChrome>
  <WindowChrome CaptionHeight="40" ResizeBorderThickness="5" GlassFrameThickness="0" CornerRadius="0"/>
    </WindowChrome.WindowChrome>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- System Tray Icon -->
        <tb:TaskbarIcon x:Name="TrayIcon" 
            Grid.Row="0"
      IconSource="app.ico" 
        ToolTipText="Synktra Companion"
     Visibility="Collapsed">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
    <MenuItem Header="Show" Click="TrayShow_Click"/>
      <Separator/>
              <MenuItem Header="Exit" Click="TrayExit_Click"/>
 </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>

     <!-- Title Bar -->
        <Grid Grid.Row="0" Background="{StaticResource SidebarBrush}">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="16,0,0,0">
       <TextBlock Text="SYNKTRA" FontSize="13" FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}" VerticalAlignment="Center"/>
     <TextBlock Text=" COMPANION" FontSize="13" FontWeight="Light" Foreground="{StaticResource TextMutedBrush}" VerticalAlignment="Center"/>
           <Border x:Name="StreamingBadge" Background="{StaticResource SuccessBrush}" CornerRadius="4" Padding="8,2" Margin="12,0,0,0" Visibility="Collapsed">
   <StackPanel Orientation="Horizontal">
          <Ellipse Width="6" Height="6" Fill="White" Margin="0,0,6,0"/>
      <TextBlock Text="READY" FontSize="10" FontWeight="Bold" Foreground="White"/>
           </StackPanel>
                </Border>
      </StackPanel>
         <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" WindowChrome.IsHitTestVisibleInChrome="True">
         <Button x:Name="MinBtn" Content="&#xE949;" FontFamily="Segoe MDL2 Assets" FontSize="10" Width="46" Height="40" Click="MinBtn_Click" Style="{StaticResource WindowButton}"/>
   <Button x:Name="MaxBtn" Content="&#xE739;" FontFamily="Segoe MDL2 Assets" FontSize="10" Width="46" Height="40" Click="MaxBtn_Click" Style="{StaticResource WindowButton}"/>
    <Button x:Name="CloseBtn" Content="&#xE106;" FontFamily="Segoe MDL2 Assets" FontSize="10" Width="46" Height="40" Click="CloseBtn_Click" Style="{StaticResource WindowButtonClose}"/>
      </StackPanel>
        </Grid>

     <!-- Main Content -->
      <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
     <ColumnDefinition Width="220"/>
          <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
            
 <!-- Sidebar -->
            <Border Grid.Column="0" Background="{StaticResource SidebarBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,1,0">
        <DockPanel>
           <!-- Bottom Status -->
 <Border DockPanel.Dock="Bottom" Margin="10,10" Padding="12" CornerRadius="10" Background="{StaticResource CardBrush}">
 <StackPanel>
        <StackPanel Orientation="Horizontal">
      <Ellipse x:Name="StatusIndicator" Width="8" Height="8" Fill="{StaticResource SuccessBrush}" Margin="0,0,8,0"/>
         <TextBlock x:Name="StatusText" Text="Server Running" Foreground="{StaticResource TextBrush}" FontSize="12" FontWeight="Medium"/>
                  </StackPanel>
       <TextBlock x:Name="IpAddressText" Text="localhost:19500" Foreground="{StaticResource TextMutedBrush}" FontSize="10" Margin="16,4,0,0"/>
  <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
          <Ellipse x:Name="DiscordIndicator" Width="6" Height="6" Fill="{StaticResource TextMutedBrush}" Margin="0,0,6,0"/>
     <TextBlock x:Name="DiscordStatusText" Text="Discord: Disconnected" Foreground="{StaticResource TextMutedBrush}" FontSize="10"/>
             </StackPanel>
      </StackPanel>
 </Border>
              
          <!-- Navigation -->
      <StackPanel Margin="0,16,0,8">
           <TextBlock Text="MAIN" FontSize="10" Foreground="{StaticResource TextMutedBrush}" Margin="20,0,0,8" FontWeight="SemiBold"/>
      <RadioButton x:Name="NavDashboard" IsChecked="True" Click="NavButton_Click" Tag="Dashboard" Style="{StaticResource NavButton}">
  <StackPanel Orientation="Horizontal">
<TextBlock Text="&#xE80F;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
       <TextBlock Text="Dashboard" FontFamily="Segoe UI" VerticalAlignment="Center"/>
      </StackPanel>
              </RadioButton>
           <RadioButton x:Name="NavGames" Click="NavButton_Click" Tag="Games" Style="{StaticResource NavButton}">
            <StackPanel Orientation="Horizontal">
       <TextBlock Text="&#xE7FC;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
     <TextBlock Text="Games Library" FontFamily="Segoe UI" VerticalAlignment="Center"/>
   </StackPanel>
 </RadioButton>
   <RadioButton x:Name="NavStreaming" Click="NavButton_Click" Tag="Streaming" Style="{StaticResource NavButton}">
        <StackPanel Orientation="Horizontal">
      <TextBlock Text="&#xE714;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
       <TextBlock Text="Streaming" FontFamily="Segoe UI" VerticalAlignment="Center"/>
  </StackPanel>
    </RadioButton>

            <TextBlock Text="CONNECTIONS" FontSize="10" Foreground="{StaticResource TextMutedBrush}" Margin="20,20,0,8" FontWeight="SemiBold"/>
  <RadioButton x:Name="NavAccounts" Click="NavButton_Click" Tag="Accounts" Style="{StaticResource NavButton}">
            <StackPanel Orientation="Horizontal">
            <TextBlock Text="&#xE8D7;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
         <TextBlock Text="Platforms" FontFamily="Segoe UI" VerticalAlignment="Center"/>
      </StackPanel>
           </RadioButton>
       <RadioButton x:Name="NavDevices" Click="NavButton_Click" Tag="Devices" Style="{StaticResource NavButton}">
               <StackPanel Orientation="Horizontal">
          <TextBlock Text="&#xE8EA;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
     <TextBlock Text="Connected Devices" FontFamily="Segoe UI" VerticalAlignment="Center"/>
            </StackPanel>
         </RadioButton>
            
      <TextBlock Text="SETTINGS" FontSize="10" Foreground="{StaticResource TextMutedBrush}" Margin="20,20,0,8" FontWeight="SemiBold"/>
     <RadioButton x:Name="NavSettings" Click="NavButton_Click" Tag="Settings" Style="{StaticResource NavButton}">
 <StackPanel Orientation="Horizontal">
        <TextBlock Text="&#xE713;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
      <TextBlock Text="General" FontFamily="Segoe UI" VerticalAlignment="Center"/>
     </StackPanel>
    </RadioButton>
     <RadioButton x:Name="NavDiscord" Click="NavButton_Click" Tag="Discord" Style="{StaticResource NavButton}">
           <StackPanel Orientation="Horizontal">
    <TextBlock Text="&#xE8BD;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
              <TextBlock Text="Discord" FontFamily="Segoe UI" VerticalAlignment="Center"/>
       </StackPanel>
               </RadioButton>
         <RadioButton x:Name="NavAbout" Click="NavButton_Click" Tag="About" Style="{StaticResource NavButton}">
           <StackPanel Orientation="Horizontal">
          <TextBlock Text="&#xE946;" FontFamily="Segoe MDL2 Assets" FontSize="14" VerticalAlignment="Center" Margin="0,0,10,0"/>
                      <TextBlock Text="About" FontFamily="Segoe UI" VerticalAlignment="Center"/>
  </StackPanel>
        </RadioButton>
            </StackPanel>
         </DockPanel>
            </Border>
        
       <!-- Content Area with Toast Notification -->
            <Grid Grid.Column="1">
      <!-- Toast Notification Overlay -->
  <Border x:Name="ToastNotification" 
              VerticalAlignment="Top" 
  HorizontalAlignment="Right" 
 Margin="20,20" 
           Padding="16,12" 
          CornerRadius="8"
             Background="{StaticResource CardBrush}"
  BorderBrush="{StaticResource PrimaryBrush}"
           BorderThickness="1"
      Visibility="Collapsed"
         Panel.ZIndex="100">
         <Border.Effect>
              <DropShadowEffect ShadowDepth="2" BlurRadius="10" Opacity="0.3"/>
          </Border.Effect>
           <StackPanel Orientation="Horizontal" MaxWidth="300">
       <TextBlock x:Name="ToastIcon" Text="&#xE73E;" FontFamily="Segoe MDL2 Assets" FontSize="16" 
 Foreground="{StaticResource SuccessBrush}" VerticalAlignment="Center" Margin="0,0,12,0"/>
      <TextBlock x:Name="ToastMessage" Text="" Foreground="{StaticResource TextBrush}" 
        FontSize="13" TextWrapping="Wrap" VerticalAlignment="Center"/>
          </StackPanel>
                </Border>
      
     <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
 <Grid Margin="28,24">
         
         <!-- Dashboard Page -->
            <StackPanel x:Name="DashboardPage">
      <TextBlock Text="Dashboard" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
   
      <!-- Stats Cards -->
       <UniformGrid Columns="4" Margin="0,0,0,24">
   <Border Style="{StaticResource Card}" Margin="0,0,10,0">
        <StackPanel>
           <TextBlock Text="CPU" Foreground="{StaticResource TextMutedBrush}" FontSize="11" FontWeight="Medium"/>
           <TextBlock x:Name="CpuUsageText" Text="0%" FontSize="32" FontWeight="Bold" Foreground="{StaticResource TextBrush}" Margin="0,8,0,0"/>
    <ProgressBar x:Name="CpuProgress" Value="0" Maximum="100" Height="4" Margin="0,8,0,0" Foreground="{StaticResource AccentBrush}" Background="{StaticResource BorderBrush}"/>
    </StackPanel>
         </Border>
      <Border Style="{StaticResource Card}" Margin="5,0">
             <StackPanel>
    <TextBlock Text="MEMORY" Foreground="{StaticResource TextMutedBrush}" FontSize="11" FontWeight="Medium"/>
    <TextBlock x:Name="MemoryUsageText" Text="0%" FontSize="32" FontWeight="Bold" Foreground="{StaticResource TextBrush}" Margin="0,8,0,0"/>
    <ProgressBar x:Name="MemoryProgress" Value="0" Maximum="100" Height="4" Margin="0,8,0,0" Foreground="{StaticResource PrimaryBrush}" Background="{StaticResource BorderBrush}"/>
    </StackPanel>
     </Border>
        <Border Style="{StaticResource Card}" Margin="5,0">
        <StackPanel>
         <TextBlock Text="GPU" Foreground="{StaticResource TextMutedBrush}" FontSize="11" FontWeight="Medium"/>
       <TextBlock x:Name="GpuUsageText" Text="-" FontSize="32" FontWeight="Bold" Foreground="{StaticResource TextBrush}" Margin="0,8,0,0"/>
     <ProgressBar x:Name="GpuProgress" Value="0" Maximum="100" Height="4" Margin="0,8,0,0" Foreground="{StaticResource SuccessBrush}" Background="{StaticResource BorderBrush}"/>
         </StackPanel>
      </Border>
            <Border Style="{StaticResource Card}" Margin="10,0,0,0">
                     <StackPanel>
   <TextBlock Text="GAMES" Foreground="{StaticResource TextMutedBrush}" FontSize="11" FontWeight="Medium"/>
    <TextBlock x:Name="GamesCountText" Text="0" FontSize="32" FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}" Margin="0,8,0,0"/>
               <TextBlock Text="Installed" Foreground="{StaticResource TextMutedBrush}" FontSize="10" Margin="0,8,0,0"/>
            </StackPanel>
                </Border>
            </UniformGrid>
       
     <!-- Quick Actions -->
         <Border Style="{StaticResource Card}" Margin="0,0,0,16">
             <StackPanel>
   <TextBlock Text="Quick Actions" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,16"/>
            <WrapPanel>
         <Button Style="{StaticResource SecondaryButton}" Margin="0,0,10,0" Click="ScanGames_Click">
       <StackPanel Orientation="Horizontal">
      <TextBlock Text="&#xE895;" FontFamily="Segoe MDL2 Assets" Margin="0,0,8,0" VerticalAlignment="Center"/>
 <TextBlock Text="Scan Games" FontFamily="Segoe UI" VerticalAlignment="Center"/>
   </StackPanel>
      </Button>
          <Button Style="{StaticResource SecondaryButton}" Margin="0,0,10,0" Click="CopyIP_Click">
           <StackPanel Orientation="Horizontal">
     <TextBlock Text="&#xE8C8;" FontFamily="Segoe MDL2 Assets" Margin="0,0,8,0" VerticalAlignment="Center"/>
 <TextBlock Text="Copy IP" FontFamily="Segoe UI" VerticalAlignment="Center"/>
      </StackPanel>
</Button>
                </WrapPanel>
          </StackPanel>
      </Border>
             
           <!-- Currently Playing -->
      <Border Style="{StaticResource Card}" Margin="0,0,0,16">
      <StackPanel>
         <TextBlock Text="Currently Playing" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,12"/>
 <Border Background="{StaticResource InputBgBrush}" CornerRadius="8" Padding="16">
          <Grid>
          <Grid.ColumnDefinitions>
         <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="*"/>
  </Grid.ColumnDefinitions>
        <Border Width="48" Height="48" CornerRadius="8" Background="{StaticResource CardBrush}" Margin="0,0,16,0">
     <TextBlock x:Name="CurrentGameIcon" Text="&#xE7FC;" FontFamily="Segoe MDL2 Assets" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource TextMutedBrush}"/>
             </Border>
          <StackPanel Grid.Column="1" VerticalAlignment="Center">
         <TextBlock x:Name="CurrentGameText" Text="No game running" Foreground="{StaticResource TextBrush}" FontSize="14" FontWeight="Medium"/>
  <TextBlock x:Name="CurrentGameTimeText" Text="" Foreground="{StaticResource TextMutedBrush}" FontSize="11" Margin="0,2,0,0"/>
              </StackPanel>
            </Grid>
         </Border>
        </StackPanel>
      </Border>
       
            <!-- System Uptime -->
       <Border Style="{StaticResource Card}">
         <StackPanel>
          <TextBlock Text="System Uptime" FontSize="14" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,12"/>
    <TextBlock x:Name="UptimeText" Text="0h 0m" FontSize="18" Foreground="{StaticResource TextMutedBrush}"/>
    </StackPanel>
  </Border>
         </StackPanel>
   
       <!-- Games Page -->
 <StackPanel x:Name="GamesPage" Visibility="Collapsed">
     <DockPanel Margin="0,0,0,20">
         <TextBlock Text="Games Library" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" VerticalAlignment="Center"/>
                  <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
         <TextBox x:Name="GameSearchBox" Width="200" Margin="0,0,10,0" TextChanged="GameSearch_Changed"/>
        <Button Style="{StaticResource SecondaryButton}" Click="ScanGames_Click">
             <StackPanel Orientation="Horizontal">
        <TextBlock Text="&#xE895;" FontFamily="Segoe MDL2 Assets" Margin="0,0,8,0" VerticalAlignment="Center"/>
     <TextBlock Text="Scan" FontFamily="Segoe UI" VerticalAlignment="Center"/>
          </StackPanel>
              </Button>
           </StackPanel>
     </DockPanel>
<StackPanel Orientation="Horizontal" Margin="0,0,0,20">
        <RadioButton x:Name="FilterAll" Content="All" IsChecked="True" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
       <RadioButton x:Name="FilterFavorites" Content="Favorites" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
 <RadioButton x:Name="FilterSteam" Content="Steam" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
      <RadioButton x:Name="FilterEpic" Content="Epic" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
            <RadioButton x:Name="FilterGOG" Content="GOG" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
     <RadioButton x:Name="FilterOther" Content="Other" Style="{StaticResource FilterButton}" Click="Filter_Click"/>
             </StackPanel>
        <ItemsControl x:Name="GamesListBox">
           <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <WrapPanel/>
             </ItemsPanelTemplate>
              </ItemsControl.ItemsPanel>
          <ItemsControl.ItemTemplate>
 <DataTemplate>
             <Border Background="{StaticResource CardBrush}" CornerRadius="10" Width="180" Height="240" Margin="0,0,12,12" Cursor="Hand">
  <Grid>
       <Grid.RowDefinitions>
      <RowDefinition Height="120"/>
                  <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
         <Border Grid.Row="0" CornerRadius="10,10,0,0" Background="{StaticResource InputBgBrush}">
   <TextBlock Text="{Binding Name, Converter={StaticResource FirstLetterConverter}}" FontSize="40" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource TextMutedBrush}" FontWeight="Bold"/>
       </Border>
     <Button Content="*" Style="{StaticResource IconButton}" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="8" Click="ToggleFavorite_Click" Tag="{Binding}"/>
              <StackPanel Grid.Row="1" Margin="12,12,12,8">
      <TextBlock Text="{Binding Name}" FontSize="13" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" TextTrimming="CharacterEllipsis" MaxHeight="36"/>
    <TextBlock Text="{Binding Platform}" FontSize="11" Foreground="{StaticResource TextMutedBrush}" Margin="0,4,0,0"/>
         <Button Content="Launch" Style="{StaticResource PrimaryButton}" Margin="0,8,0,0" Padding="8,6" FontSize="11" Click="LaunchGame_Click" Tag="{Binding}"/>
      </StackPanel>
         </Grid>
   </Border>
  </DataTemplate>
         </ItemsControl.ItemTemplate>
       </ItemsControl>
      </StackPanel>
     
        <!-- Streaming Page -->
        <StackPanel x:Name="StreamingPage" Visibility="Collapsed">
   <TextBlock Text="Streaming" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
          
      <!-- Stream Status -->
       <Border Style="{StaticResource Card}" Margin="0,0,0,16">
   <StackPanel>
          <StackPanel Orientation="Horizontal">
            <Ellipse x:Name="StreamStatusDot" Width="10" Height="10" Fill="{StaticResource SuccessBrush}" Margin="0,0,10,0"/>
      <TextBlock x:Name="StreamStatusText" Text="Stream Server Ready" FontSize="16" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
 </StackPanel>
        <TextBlock x:Name="StreamInfoText" Text="Waiting for mobile app to connect..." Foreground="{StaticResource TextMutedBrush}" FontSize="12" Margin="20,4,0,0"/>
             </StackPanel>
            </Border>
     
         <!-- Stream Stats -->
                <UniformGrid Columns="4" Margin="0,0,0,16">
   <Border Style="{StaticResource Card}" Margin="0,0,10,0">
    <StackPanel>
 <TextBlock Text="VIEWERS" Foreground="{StaticResource TextMutedBrush}" FontSize="10"/>
      <TextBlock x:Name="StreamViewersText" Text="0" FontSize="24" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
         </StackPanel>
   </Border>
    <Border Style="{StaticResource Card}" Margin="5,0">
    <StackPanel>
          <TextBlock Text="FPS" Foreground="{StaticResource TextMutedBrush}" FontSize="10"/>
          <TextBlock x:Name="StreamFpsText" Text="0" FontSize="24" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
     </StackPanel>
           </Border>
            <Border Style="{StaticResource Card}" Margin="5,0">
        <StackPanel>
            <TextBlock Text="LATENCY" Foreground="{StaticResource TextMutedBrush}" FontSize="10"/>
   <TextBlock x:Name="StreamLatencyText" Text="0ms" FontSize="24" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
</StackPanel>
          </Border>
             <Border Style="{StaticResource Card}" Margin="10,0,0,0">
    <StackPanel>
   <TextBlock Text="QUALITY" Foreground="{StaticResource TextMutedBrush}" FontSize="10"/>
             <TextBlock x:Name="StreamQualityText" Text="720p" FontSize="24" FontWeight="Bold" Foreground="{StaticResource TextBrush}"/>
            </StackPanel>
  </Border>
               </UniformGrid>
                     
         <!-- Stream Settings -->
           <Border Style="{StaticResource Card}">
           <StackPanel>
        <TextBlock Text="STREAM SETTINGS" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,20"/>
               <Grid Margin="0,0,0,16">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="120"/>
                  <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="60"/>
    </Grid.ColumnDefinitions>
           <TextBlock Text="Quality" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
            <Slider x:Name="QualitySlider" Grid.Column="1" Minimum="10" Maximum="100" Value="50" TickFrequency="10" IsSnapToTickEnabled="True" ValueChanged="StreamSetting_Changed" Margin="10,0"/>
  <TextBlock x:Name="QualityValueText" Grid.Column="2" Text="50%" VerticalAlignment="Center" Foreground="{StaticResource TextBrush}" HorizontalAlignment="Right" FontWeight="Medium"/>
            </Grid>
    <Grid Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
     <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="*"/>
       <ColumnDefinition Width="60"/>
         </Grid.ColumnDefinitions>
           <TextBlock Text="Target FPS" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
          <Slider x:Name="FpsSlider" Grid.Column="1" Minimum="30" Maximum="120" Value="60" TickFrequency="15" IsSnapToTickEnabled="True" ValueChanged="StreamSetting_Changed" Margin="10,0"/>
       <TextBlock x:Name="FpsValueText" Grid.Column="2" Text="60" VerticalAlignment="Center" Foreground="{StaticResource TextBrush}" HorizontalAlignment="Right" FontWeight="Medium"/>
       </Grid>
         <Grid Margin="0,0,0,20">
 <Grid.ColumnDefinitions>
               <ColumnDefinition Width="120"/>
       <ColumnDefinition Width="*"/>
       </Grid.ColumnDefinitions>
     <TextBlock Text="Resolution" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
      <ComboBox x:Name="ResolutionCombo" Grid.Column="1" MaxWidth="220" HorizontalAlignment="Left" SelectionChanged="StreamSetting_Changed">
                <ComboBoxItem Content="1920x1080 (1080p)" Tag="1920,1080"/>
      <ComboBoxItem Content="1280x720 (720p)" Tag="1280,720" IsSelected="True"/>
   <ComboBoxItem Content="854x480 (480p)" Tag="854,480"/>
        <ComboBoxItem Content="640x360 (360p)" Tag="640,360"/>
       </ComboBox>
 </Grid>
    <Button Content="Apply Settings" Style="{StaticResource PrimaryButton}" HorizontalAlignment="Left" Click="ApplyStreamSettings_Click"/>
          </StackPanel>
      </Border>
     </StackPanel>
               
   <!-- Platforms Page -->
            <StackPanel x:Name="AccountsPage" Visibility="Collapsed">
     <TextBlock Text="Gaming Platforms" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
<Border Style="{StaticResource Card}" Margin="0,0,0,10">
           <Grid>
      <Grid.ColumnDefinitions>
                 <ColumnDefinition Width="Auto"/>
       <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
              </Grid.ColumnDefinitions>
        <Border Width="48" Height="48" CornerRadius="8" Background="#1B2838">
  <TextBlock Text="S" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
    </Border>
   <StackPanel Grid.Column="1" Margin="16,0" VerticalAlignment="Center">
       <TextBlock Text="Steam" FontSize="15" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
 <TextBlock x:Name="SteamStatusText" Text="Scanning..." FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
        </StackPanel>
    <Button Grid.Column="2" x:Name="SteamConnectBtn" Content="Open Steam" Style="{StaticResource SecondaryButton}" Click="ConnectSteam_Click"/>
    </Grid>
           </Border>
   <Border Style="{StaticResource Card}" Margin="0,0,0,10">
    <Grid>
    <Grid.ColumnDefinitions>
     <ColumnDefinition Width="Auto"/>
    <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
                 </Grid.ColumnDefinitions>
            <Border Width="48" Height="48" CornerRadius="8" Background="#2A2A2A">
    <TextBlock Text="E" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
        </Border>
    <StackPanel Grid.Column="1" Margin="16,0" VerticalAlignment="Center">
    <TextBlock Text="Epic Games" FontSize="15" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
            <TextBlock x:Name="EpicStatusText" Text="Scanning..." FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
       </StackPanel>
               <Button Grid.Column="2" Content="Open Epic" Style="{StaticResource SecondaryButton}" Click="ConnectEpic_Click"/>
      </Grid>
   </Border>
        <Border Style="{StaticResource Card}">
 <Grid>
           <Grid.ColumnDefinitions>
 <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
          </Grid.ColumnDefinitions>
      <Border Width="48" Height="48" CornerRadius="8" Background="#86329B">
      <TextBlock Text="G" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
  </Border>
      <StackPanel Grid.Column="1" Margin="16,0" VerticalAlignment="Center">
       <TextBlock Text="GOG Galaxy" FontSize="15" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
       <TextBlock x:Name="GOGStatusText" Text="Scanning..." FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
         </StackPanel>
           <Button Grid.Column="2" Content="Open GOG" Style="{StaticResource SecondaryButton}" Click="ConnectGOG_Click"/>
   </Grid>
   </Border>
              </StackPanel>
              
            <!-- Connected Devices Page -->
       <StackPanel x:Name="DevicesPage" Visibility="Collapsed">
        <TextBlock Text="Connected Devices" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
  <Border Style="{StaticResource Card}" Margin="0,0,0,16">
        <StackPanel>
          <TextBlock Text="CONNECTION INFO" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
        <Grid Margin="0,0,0,8">
       <Grid.ColumnDefinitions>
             <ColumnDefinition Width="120"/>
           <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
    <TextBlock Text="Local IP:" Foreground="{StaticResource TextMutedBrush}"/>
           <TextBlock x:Name="LocalIpDisplay" Grid.Column="1" Text="192.168.1.x" Foreground="{StaticResource TextBrush}" FontWeight="Medium"/>
       </Grid>
     <Grid Margin="0,0,0,8">
     <Grid.ColumnDefinitions>
       <ColumnDefinition Width="120"/>
       <ColumnDefinition Width="*"/>
   </Grid.ColumnDefinitions>
            <TextBlock Text="API Port:" Foreground="{StaticResource TextMutedBrush}"/>
            <TextBlock x:Name="ApiPortDisplay" Grid.Column="1" Text="19500" Foreground="{StaticResource TextBrush}" FontWeight="Medium"/>
               </Grid>
            <Grid>
        <Grid.ColumnDefinitions>
               <ColumnDefinition Width="120"/>
     <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
        <TextBlock Text="Stream Ports:" Foreground="{StaticResource TextMutedBrush}"/>
           <TextBlock Grid.Column="1" Text="19501 (WS), 19502 (UDP)" Foreground="{StaticResource TextBrush}" FontWeight="Medium"/>
  </Grid>
     </StackPanel>
    </Border>
     <Border Style="{StaticResource Card}">
   <StackPanel>
         <TextBlock Text="ACTIVE CONNECTIONS" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
     <ItemsControl x:Name="DevicesListBox">
     <ItemsControl.ItemTemplate>
     <DataTemplate>
    <Border Background="{StaticResource InputBgBrush}" CornerRadius="8" Padding="12" Margin="0,0,0,8">
                    <Grid>
     <Grid.ColumnDefinitions>
       <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
     <ColumnDefinition Width="Auto"/>
     </Grid.ColumnDefinitions>
 <Border Width="36" Height="36" CornerRadius="6" Background="{StaticResource CardBrush}">
             <TextBlock Text="&#xE8EA;" FontFamily="Segoe MDL2 Assets" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource PrimaryBrush}"/>
    </Border>
  <StackPanel Grid.Column="1" Margin="12,0">
                <TextBlock Text="{Binding DeviceName}" FontWeight="Medium" Foreground="{StaticResource TextBrush}"/>
  <TextBlock Text="{Binding IpAddress}" FontSize="11" Foreground="{StaticResource TextMutedBrush}"/>
   </StackPanel>
    <StackPanel Grid.Column="2" VerticalAlignment="Center">
   <TextBlock Text="{Binding ConnectionType}" FontSize="10" Foreground="{StaticResource TextMutedBrush}" HorizontalAlignment="Right"/>
 </StackPanel>
               </Grid>
      </Border>
         </DataTemplate>
</ItemsControl.ItemTemplate>
       </ItemsControl>
           <TextBlock x:Name="NoDevicesText" Text="No devices connected" Foreground="{StaticResource TextMutedBrush}" FontStyle="Italic" HorizontalAlignment="Center" Margin="0,20"/>
    </StackPanel>
         </Border>
    </StackPanel>
 
        <!-- Settings Page -->
         <StackPanel x:Name="SettingsPage" Visibility="Collapsed">
          <TextBlock Text="General Settings" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
      
           <Border Style="{StaticResource Card}" Margin="0,0,0,16">
  <StackPanel>
                  <TextBlock Text="API SERVER" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,16"/>
         <Grid Margin="0,0,0,12">
          <Grid.ColumnDefinitions>
      <ColumnDefinition Width="150"/>
     <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
 <TextBlock Text="Port" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
  <TextBox x:Name="PortTextBox" Grid.Column="1" Text="19500" MaxWidth="150" HorizontalAlignment="Left"/>
           </Grid>
        <Grid>
               <Grid.ColumnDefinitions>
        <ColumnDefinition Width="150"/>
    <ColumnDefinition Width="*"/>
    <ColumnDefinition Width="Auto"/>
           </Grid.ColumnDefinitions>
       <TextBlock Text="Auth Token" VerticalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
      <TextBox x:Name="AuthTokenTextBox" Grid.Column="1"/>
  <Button Grid.Column="2" Content="Generate" Style="{StaticResource SecondaryButton}" Margin="10,0,0,0" Click="GenerateToken_Click"/>
    </Grid>
        </StackPanel>
            </Border>
            
               <Border Style="{StaticResource Card}" Margin="0,0,0,16">
     <StackPanel>
       <TextBlock Text="STARTUP" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,16"/>
      <CheckBox x:Name="StartWithWindowsCheckbox" Content="Start with Windows" Margin="0,0,0,8"/>
  <CheckBox x:Name="MinimizeToTrayCheckbox" Content="Minimize to system tray" IsChecked="True" Margin="0,0,0,8"/>
       <CheckBox x:Name="StartMinimizedCheckbox" Content="Start minimized" Margin="0,0,0,0"/>
  </StackPanel>
         </Border>
       
             <Border Style="{StaticResource Card}">
  <StackPanel>
<TextBlock Text="NOTIFICATIONS" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,16"/>
    <CheckBox x:Name="ShowNotificationsCheckbox" Content="Show desktop notifications" IsChecked="True" Margin="0,0,0,8"/>
       <CheckBox x:Name="NotifyOnConnectionCheckbox" Content="Notify when device connects" IsChecked="True"/>
   </StackPanel>
        </Border>
      
             <Button Content="Save Settings" Style="{StaticResource PrimaryButton}" HorizontalAlignment="Left" Margin="0,16,0,0" Click="SaveSettings_Click"/>
     </StackPanel>
 
             <!-- Discord Page -->
            <StackPanel x:Name="DiscordPage" Visibility="Collapsed">
            <TextBlock Text="Discord Integration" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
           
        <Border Style="{StaticResource Card}" Margin="0,0,0,16">
        <Grid>
       <Grid.ColumnDefinitions>
  <ColumnDefinition Width="Auto"/>
  <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
   </Grid.ColumnDefinitions>
         <Border Width="48" Height="48" CornerRadius="24" Background="#5865F2">
  <TextBlock Text="&#xE8BD;" FontFamily="Segoe MDL2 Assets" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
   </Border>
        <StackPanel Grid.Column="1" Margin="16,0" VerticalAlignment="Center">
        <TextBlock Text="Rich Presence" FontSize="16" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
         <TextBlock x:Name="DiscordRpcStatus" Text="Disconnected" FontSize="12" Foreground="{StaticResource TextMutedBrush}"/>
             </StackPanel>
          <ToggleButton x:Name="DiscordToggle" Grid.Column="2" Style="{StaticResource ToggleSwitch}" Checked="DiscordToggle_Changed" Unchecked="DiscordToggle_Changed"/>
      </Grid>
          </Border>
          
  <Border Style="{StaticResource Card}" Margin="0,0,0,16">
            <StackPanel>
          <TextBlock Text="DISPLAY OPTIONS" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,16"/>
     <CheckBox x:Name="DiscordShowGameCheckbox" Content="Show current game" IsChecked="True" Margin="0,0,0,8" Click="DiscordOption_Changed"/>
     <CheckBox x:Name="DiscordShowStatsCheckbox" Content="Show PC stats (CPU/RAM usage)" IsChecked="True" Margin="0,0,0,8" Click="DiscordOption_Changed"/>
     <CheckBox x:Name="DiscordShowStreamingCheckbox" Content="Show when streaming" IsChecked="True" Click="DiscordOption_Changed"/>
    </StackPanel>
          </Border>

       <Border Style="{StaticResource Card}" Background="{StaticResource InputBgBrush}">
    <StackPanel>
           <TextBlock Text="PREVIEW" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
             <Border Background="#36393F" CornerRadius="8" Padding="12">
    <Grid>
      <Grid.ColumnDefinitions>
      <ColumnDefinition Width="Auto"/>
<ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
 <Border Width="60" Height="60" CornerRadius="8" Background="{StaticResource PrimaryBrush}" Margin="0,0,12,0">
  <TextBlock Text="S" FontSize="28" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
             </Border>
           <StackPanel Grid.Column="1" VerticalAlignment="Center">
      <TextBlock Text="Playing a game" FontWeight="SemiBold" Foreground="White"/>
       <TextBlock x:Name="DiscordPreviewLine1" Text="Cyberpunk 2077" Foreground="#B9BBBE" FontSize="12"/>
   <TextBlock x:Name="DiscordPreviewLine2" Text="CPU: 45% | RAM: 62%" Foreground="#72767D" FontSize="11"/>
            </StackPanel>
    </Grid>
     </Border>
              </StackPanel>
       </Border>
            </StackPanel>
                 
                <!-- About Page -->
         <StackPanel x:Name="AboutPage" Visibility="Collapsed">
        <TextBlock Text="About" FontSize="26" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" Margin="0,0,0,24"/>
     
         <Border Style="{StaticResource Card}" Margin="0,0,0,16">
 <StackPanel HorizontalAlignment="Center">
     <Border Width="80" Height="80" CornerRadius="16" Background="{StaticResource PrimaryBrush}" Margin="0,0,0,16">
            <TextBlock Text="S" FontSize="40" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
       </Border>
             <TextBlock Text="Synktra Companion" FontSize="20" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}" HorizontalAlignment="Center"/>
        <TextBlock Text="Version 1.0.0" Foreground="{StaticResource TextMutedBrush}" FontSize="12" HorizontalAlignment="Center" Margin="0,4,0,0"/>
     <TextBlock Text="Control your gaming PC remotely" Foreground="{StaticResource TextMutedBrush}" FontSize="12" HorizontalAlignment="Center" Margin="0,8,0,0"/>
     </StackPanel>
         </Border>
     
          <Border Style="{StaticResource Card}" Margin="0,0,0,16">
     <StackPanel>
 <TextBlock Text="FEATURES" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
       <TextBlock Text="- Remote game launching" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
   <TextBlock Text="- Real-time PC monitoring" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
         <TextBlock Text="- Low-latency screen streaming" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
      <TextBlock Text="- Virtual gamepad support" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
        <TextBlock Text="- Wake-on-LAN support" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
       <TextBlock Text="- Discord Rich Presence" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,4"/>
      </StackPanel>
   </Border>
          
        <Border Style="{StaticResource Card}">
      <StackPanel>
       <TextBlock Text="LINKS" FontSize="11" FontWeight="SemiBold" Foreground="{StaticResource TextMutedBrush}" Margin="0,0,0,12"/>
         <Button Content="GitHub Repository" Style="{StaticResource LinkButton}" Click="OpenGitHub_Click"/>
               <Button Content="Report an Issue" Style="{StaticResource LinkButton}" Click="OpenIssues_Click"/>
        </StackPanel>
       </Border>
          </StackPanel>
     
         </Grid>
    </ScrollViewer>
            </Grid>
        </Grid>
    </Grid>
</Window>

